"use strict";var onScreenness=function(){'use strict';var d=function(c,a){return+(Math.round(c+"e"+a)+"e-"+a)},f=function(d){var a=d.split(","),b=a.map(function(b){return b.trim().replace(/\s+/g," ")});return b.filter(function(b){return b.length})},g=function(c){var a=[];return a.push.apply(a,document.querySelectorAll(c)),a},h=function(){var m=[],n=[],o=function(c){var a=c.length?g(c.join(",")):[];a.forEach(function(b){b&&(b.classList.remove("onscreen"),b.classList.remove("offscreen"),delete b.dataset.onscreenness)})},p=function(c,a){a.forEach(function(a){c.includes(a)||c.push(a)})},c=function(a){var b=f(a);p(m,b)},e=function(b){var a=f(b);o(a),p(n,a)},q=function(){o(m),m=[],n=[]},r=function(i){var a=Math.min,b=Math.max,c={left:0-i.left,right:i.right-document.documentElement.clientWidth,top:0-i.top,bottom:i.bottom-document.documentElement.clientHeight},d={left:a(b(c.left,0),i.width),right:a(b(c.right,0),i.width),top:a(b(c.top,0),i.height),bottom:a(b(c.bottom,0),i.height)},e={left:d.left/i.width,right:d.right/i.width,top:d.top/i.height,bottom:d.bottom/i.height},f=1-e.left-e.right,g=1-e.top-e.bottom;return{horizontal:f,vertical:g,surface:f*g}},h=function(e,a){e.dataset.onscreenness=a+"";var b=e.classList.contains("onscreen");1!==a||b||e.classList.add("onscreen"),1>a&&b&&e.classList.remove("onscreen");var c=e.classList.contains("offscreen");0!==a||c||e.classList.add("offscreen"),0<a&&c&&e.classList.remove("offscreen")},i=function(){var a=m.length?g(m.join(",")):[],b=n.length?g(n.join(",")):[];return a.length?a.filter(function(c){return!b.includes(c)}):[]},j=function(){i().forEach(function(e){var a=e.getBoundingClientRect(),b=d(r(a).surface,3);h(e,b)})};document.addEventListener("readystatechange",function(){"interactive"===document.readyState&&j()},!1),window.addEventListener("resize",j,!1),window.addEventListener("scroll",j,!0);var k=new MutationObserver(function(b){b.length&&j()});return window.addEventListener("load",function(){k.observe(document.body,{childList:!0,subtree:!0})},!0),{publicAPI:{collect:c,exclude:e,remove:function(a){var b=f(a);b.forEach(function(a){m.includes(a)&&(o([a]),m.splice(m.indexOf(a),1))})},reset:q},testSuite:{getVariables:function(){return{queryList:m,blackList:n}},triggerEvent:j,makeNodeList:i,calculatePresence:r,treatElement:h,cleanElements:o}}}(),i=h.publicAPI;return i}();
