{"version":3,"file":"index.esm.js","sources":["../node_modules/my-lib/module/myLib.js","../src/collectionManagement.js","../src/coreFunctions.js","../node_modules/document-staging/dist/index.esm.js","../src/index.js","../src/onScreenness.js"],"sourcesContent":["const e=function(){let e=Boolean(arguments.length);return Array.from(arguments).forEach(t=>{e=e&&\"number\"==typeof t&&Number.isFinite(t)}),e},t=e=>Boolean(e&&\"string\"==typeof e&&1===e.length),o=e=>t(e)&&Boolean(e.match(/[0-9]/)),n=e=>t(e)&&e.toLowerCase()!==e.toUpperCase(),r=e=>t(e)&&e===e.toLowerCase()&&e!==e.toUpperCase(),l=e=>t(e)&&e===e.toUpperCase()&&e!==e.toLowerCase(),u=e=>e&&e.split&&!e.split(\"\").some(e=>!(n(e)||o(e))),a=(e,t)=>{const o=e.match(t);return o&&o[0]===e},c=function(e,t){return e<\"1e-\"+t&&e>\"-1e-\"+t?0:Number(Math.round(e+\"e\"+t)+\"e-\"+t)},f=function(e,t){const o=Math.floor(Math.log(Math.abs(e))/Math.log(10)),n=e/Math.pow(10,o),r=c(n,t-1);return Number(r+\"e\"+o)},i=function(e){return\"string\"==typeof e||\"number\"==typeof e||\"boolean\"==typeof e},p=function(e){return e&&(e.getRootNode()instanceof Document||e.getRootNode()instanceof ShadowRoot)},s=()=>{console.log(\"Hello World!\")},h=function(e,t){let o={};return e.forEach(e=>o[e]=1),t.filter(e=>{if(1===o[e])return delete o[e],e})},g=function(e){let t=[];return t.push.apply(t,document.querySelectorAll(e)),t},m=function(){let e=[...arguments].filter(e=>e>=0),t=[...arguments].filter(e=>e<=0);return e.length===arguments.length||t.length===arguments.length},y=function(e){return e.split(\",\").map(e=>e.trim().replace(/\\s+/g,\" \")).filter(e=>e.length)},b=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};export{y as arrayFromCommaSeparatedList,g as arrayFromQuery,h as arrayIntersection,s as greet,b as hasOwnProperty,u as isAlphaNumeric,p as isAttachedToDom,t as isChar,o as isDigit,m as isEqualSigns,a as isExactMatch,n as isLetter,r as isLower,i as isPrimitive,l as isUpper,e as isUsableNumber,c as roundAtDecimals,f as roundAtDigits};\n//# sourceMappingURL=myLib.js.map\n","import {\n\tarrayIntersection,\n\tarrayFromCommaSeparatedList,\n\tarrayFromQuery,\n} from 'my-lib'\n\nlet collectionManagement = (function () {\n\tconst baseQuery = '[data-onscreenness]'\n\tlet queryList = []\n\tlet blackList = []\n\tlet callbackObj = {}\n\n\t/**\n\t * Add solitary queries to a list, avoiding duplication\n\t * @private\n\t * @param {string} currentList - list with unique solitary queries\n\t * @param {string} newQueries - querySelector\n\t */\n\tconst addQueries = function ( currentList, newQueries ) {\n\t\tnewQueries.forEach ( ( newQuery ) => {\n\t\t\tif ( !currentList.includes ( newQuery ) ) {\n\t\t\t\tcurrentList.push ( newQuery )\n\t\t\t}\n\t\t})\n\t}\n\n\t/**\n\t * Add query to queryList\n\t * @param {string} rawQuery - querySelector\n\t * @param {function} callback (optional)\n\t * @returns {array} normalised input\n\t */\n\tconst collect = function ( rawQuery, callback ) {\n\t\tlet queries = arrayFromCommaSeparatedList ( rawQuery )\n\t\taddQueries ( queryList, queries )\n\t\tif ( callback && typeof callback === 'function' ) {\n\t\t\tqueries.forEach ( query => callbackObj[query] = callback )\n\t\t}\n\t\treturn queries\n\t}\n\n\t/**\n\t * Add to blacklist\n\t * @param {string} rawQuery - querySelector\n\t * @returns {array} normalised input\n\t */\n\tconst exclude = function ( rawQuery ) {\n\t\tlet queries = arrayFromCommaSeparatedList ( rawQuery )\n\t\taddQueries ( blackList, queries )\n\t\treturn queries\n\t}\n\n\t/**\n\t * Remove query from queryList\n\t * @param {string} rawQuery - querySelector\n\t * @returns {array} normalised input\n\t */\n\tconst remove = function ( rawQuery ) {\n\t\tlet queries = arrayFromCommaSeparatedList ( rawQuery )\n\t\tlet queryIntersection = arrayIntersection ( queryList, queries )\n\t\tqueryIntersection.forEach ( ( query ) => {\n\t\t\tqueryList.splice ( queryList.indexOf ( query ), 1 )\n\t\t})\n\t\treturn queryIntersection\n\t}\n\n\t/**\n\t * Empty the querylist and blacklist\n\t * @returns {array} query for all treated items\n\t */\n\tconst reset = function () {\n\t\tqueryList = []\n\t\tblackList = []\n\t\treturn [baseQuery]\n\t}\n\n\t/**\n\t * Current variables, for testing purposes\n\t * @private\n\t * @returns {object} current variables\n\t */\n\tconst getVariables = () => {\n\t\treturn {\n\t\t\tqueryList: queryList.concat(),\n\t\t\tblackList: blackList.concat(),\n\t\t\tcallbackObj: Object.assign({}, callbackObj),\n\t\t}\n\t}\n\n\t/**\n\t * Live list of elements to work on\n\t * @private\n\t */\n\tconst buildNodeList = function () {\n\t\tlet fullList = [baseQuery].concat(queryList)\n\t\tlet elementList = arrayFromQuery ( fullList.join(',') )\n\t\tlet ignoreList = blackList.length\n\t\t\t? arrayFromQuery ( blackList.join(',') )\n\t\t\t: []\n\n\t\treturn elementList.filter ( elm => !ignoreList.includes ( elm ) )\n\t}\n\n\t/**\n\t * Live map of elements to execute function with\n\t * @private\n\t */\n\tconst buildCallbackMap = function () {\n\t\tlet callbackMap = new Map();\n\t\tObject.entries(callbackObj).forEach ( ([ query, callback ]) => {\n\t\t\tarrayFromQuery ( query ).forEach ( elm => {\n\t\t\t\tcallbackMap.set ( elm, callback )\n\t\t\t})\n\t\t})\n\n\t\treturn callbackMap\n\t}\n\n\treturn {\n\t\tcollect: collect,\n\t\texclude: exclude,\n\t\tremove: remove,\n\t\treset: reset,\n\t\tgetVariables: getVariables,\n\t\tbuildNodeList: buildNodeList,\n\t\tbuildCallbackMap: buildCallbackMap,\n\t}\n})()\n\nexport { collectionManagement };\n","import {\n\tisEqualSigns,\n\tarrayFromQuery,\n\troundAtDecimals,\n} from 'my-lib'\n\nlet coreFunctions = (function () {\n\n\tlet propsMap = new WeakMap()\n\n\t/**\n\t * Remove datasets and classNames from queried elements\n\t * @private\n\t * @param {string} removeList - querySelector\n\t */\n\tconst detachIdentifiers = function ( removeList ) {\n\t\tlet elementList = removeList.length\n\t\t\t? arrayFromQuery ( removeList.join(',') )\n\t\t\t: []\n\n\t\telementList.forEach( function ( element ) {\n\t\t\t// the elementList is not a live list\n\t\t\tif ( element ) {\n\t\t\t\telement.classList.remove('onscreen')\n\t\t\t\telement.classList.remove('offscreen')\n\t\t\t\telement.classList.remove('crossscreen')\n\t\t\t\telement.classList.remove('overscreen')\n\t\t\t\tdelete element.dataset['onscreenness']\n\t\t\t\tdelete element.dataset['overlapping']\n\t\t\t}\n\t\t})\n\t}\n\n\t/**\n\t * Calculate onscreenness figures of an element\n\t * @private\n\t * @param {object} boundingRect\n\t * @returns {object} onscreenness figures\n\t */\n\tconst calculatePresence = function ( boundingRect ) {\n\t\tlet time = Date.now()\n\n\t\tlet overhang = {\n\t\t\tleft: 0 - boundingRect.left,\n\t\t\tright: boundingRect.right - document.documentElement.clientWidth,\n\t\t\ttop: 0 - boundingRect.top,\n\t\t\tbottom: boundingRect.bottom - document.documentElement.clientHeight,\n\t\t}\n\t\tlet absence = {\n\t\t\tleft: Math.min( Math.max( overhang.left, 0 ), boundingRect.width ),\n\t\t\tright: Math.min( Math.max( overhang.right, 0 ), boundingRect.width ),\n\t\t\ttop: Math.min( Math.max( overhang.top, 0 ), boundingRect.height ),\n\t\t\tbottom: Math.min( Math.max( overhang.bottom, 0 ), boundingRect.height ),\n\t\t}\n\t\tlet relativeAbsence = {\n\t\t\tleft: absence.left / boundingRect.width,\n\t\t\tright: absence.right / boundingRect.width,\n\t\t\ttop: absence.top / boundingRect.height,\n\t\t\tbottom: absence.bottom / boundingRect.height,\n\t\t}\n\n\t\t// Presence\n\t\tlet horizontalPresence = 1 - relativeAbsence.left - relativeAbsence.right\n\t\tlet verticalPresence = 1 - relativeAbsence.top - relativeAbsence.bottom\n\n\t\t// Overlapping\n\t\tlet horizontalOverlap = (\n\t\t\tboundingRect.width - absence.left - absence.right\n\t\t\t) / document.documentElement.clientWidth\n\t\tlet verticalOverlap = (\n\t\t\tboundingRect.height - absence.top - absence.bottom\n\t\t\t) / document.documentElement.clientHeight\n\n\t\tlet widthRatio = boundingRect.width / document.documentElement.clientWidth\n\t\tlet heightRatio = boundingRect.height / document.documentElement.clientHeight\n\n\t\t// Dynamics\n\t\tlet horizontalDecentering = ( boundingRect.left\n\t\t\t- (document.documentElement.clientWidth/2)\n\t\t\t+ (boundingRect.width/2)\n\t\t)\n\t\tlet verticalDecentering = ( boundingRect.top\n\t\t\t- (document.documentElement.clientHeight/2)\n\t\t\t+ (boundingRect.height/2)\n\t\t)\n\t\tlet absoluteDecentering = Math.hypot( horizontalDecentering, verticalDecentering )\n\t\tlet positiveDecentering = ( horizontalDecentering + verticalDecentering ) > 0\n\n\t\treturn {\n\t\t\ttime: time,\n\t\t\toverhang: overhang,\n\t\t\twidthRatio: widthRatio,\n\t\t\theightRatio: heightRatio,\n\t\t\tareaRatio: widthRatio * heightRatio,\n\t\t\thorizontalDecentering: horizontalDecentering,\n\t\t\tverticalDecentering: verticalDecentering,\n\t\t\tsurfaceDecentering: positiveDecentering ? absoluteDecentering : 0 - absoluteDecentering,\n\t\t\thorizontalOverlap: horizontalOverlap,\n\t\t\tverticalOverlap: verticalOverlap,\n\t\t\tsurfaceOverlap: horizontalOverlap * verticalOverlap,\n\t\t\thorizontalPresence: horizontalPresence,\n\t\t\tverticalPresence: verticalPresence,\n\t\t\tsurfacePresence: horizontalPresence * verticalPresence,\n\t\t}\n\t}\n\n\t/**\n\t * Updates dataset and classNames of an element\n\t * @private\n\t * @param {element} element\n\t * @param {object} props - presence properties\n\t */\n\tconst attachIdentifiers = function ( element, props ) {\n\t\tlet mutations = {}\n\t\tlet noteAndUpdate = record => {\n\t\t\tif ( record.addClass ) {\n\t\t\t\tmutations.addClass = mutations.addClass ? `${mutations.addClass} ${record.addClass}` : record.addClass\n\t\t\t\telement.classList.add(record.addClass)\n\t\t\t} else {\n\t\t\t\tmutations.removeClass = mutations.removeClass ? `${mutations.removeClass} ${record.removeClass}` : record.removeClass\n\t\t\t\telement.classList.remove(record.removeClass)\n\t\t\t}\n\t\t}\n\n\t\tlet considerUpdate = ( className, applicableCondition ) => {\n\t\t\tlet hasClass = element.classList.contains( className )\n\t\t\tif ( applicableCondition && !hasClass ) {\n\t\t\t\tnoteAndUpdate({addClass: className})\n\t\t\t}\n\t\t\tif ( !applicableCondition && hasClass ) {\n\t\t\t\tnoteAndUpdate({removeClass: className})\n\t\t\t}\n\t\t}\n\n\t\t// Presence\n\t\tlet presence = roundAtDecimals ( props.surfacePresence, 3 )\n\t\telement.dataset['onscreenness'] = String ( presence )\n\n\t\tconsiderUpdate ( 'onscreen', presence === 1 )\n\t\tconsiderUpdate ( 'crossscreen', presence > 0 && presence < 1 )\n\t\tconsiderUpdate ( 'offscreen', presence === 0 )\n\n\t\t// Overlapping\n\t\tlet overlapping = roundAtDecimals ( props.surfaceOverlap, 3 )\n\t\telement.dataset['overlapping'] = String ( overlapping )\n\n\t\tlet horizontalOverhang = props.widthRatio > 1 && props.horizontalOverlap === 1 && props.verticalPresence === 1\n\t\tlet verticalOverhang = props.heightRatio > 1 && props.verticalOverlap === 1 && props.horizontalPresence === 1\n\t\tlet overscreen = props.surfaceOverlap === 1 || horizontalOverhang || verticalOverhang\n\n\t\tconsiderUpdate ( 'overscreen', overscreen )\n\n\t\t// Dynamics\n\t\tlet lastProps = propsMap.get( element )\n\t\tif ( lastProps ) {\n\t\t\tif ( isEqualSigns ( lastProps.surfaceDecentering, props.surfaceDecentering ) ) {\n\t\t\t\t// normal\n\t\t\t\tmutations.nearing = Math.abs( lastProps.surfaceDecentering ) - Math.abs( props.surfaceDecentering )\n\t\t\t\tmutations.timelapse = props.time - lastProps.time\n\t\t\t} else {\n\t\t\t\t// surfaceDecentering across zero => do calculations with only the part after passing zero\n\t\t\t\tlet fraction = Math.abs ( props.surfaceDecentering / ( lastProps.surfaceDecentering - props.surfaceDecentering ) )\n\t\t\t\tmutations.nearing = 0 - Math.abs(props.surfaceDecentering)\n\t\t\t\tmutations.timelapse = ( props.time - lastProps.time ) * fraction\n\t\t\t}\n\t\t\tmutations.scrollspeed = mutations.nearing / (mutations.timelapse/1000)\n\n\t\t\tconsiderUpdate ( 'nearingscreen', mutations.nearing > 0 )\n\t\t\tconsiderUpdate ( 'leavingscreen', mutations.nearing < 0 )\n\t\t}\n\n\t\tpropsMap.set( element, props )\n\t\treturn mutations\n\t}\n\n\treturn {\n\t\tdetachIdentifiers: detachIdentifiers,\n\t\tcalculatePresence: calculatePresence,\n\t\tattachIdentifiers: attachIdentifiers,\n\t}\n\n})()\n\nexport { coreFunctions }\n","var t=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function n(t,n){return t(n={exports:{}},n.exports),n.exports}var r,e,o,i,u=\"object\",c=function(t){return t&&t.Math==Math&&t},f=c(typeof globalThis==u&&globalThis)||c(typeof window==u&&window)||c(typeof self==u&&self)||c(typeof t==u&&t)||Function(\"return this\")(),a=function(t){try{return!!t()}catch(t){return!0}},l=!a(function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a}),s={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,y={f:p&&!s.call({1:2},1)?function(t){var n=p(this,t);return!!n&&n.enumerable}:s},h=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}},d={}.toString,g=function(t){return d.call(t).slice(8,-1)},v=\"\".split,S=a(function(){return!Object(\"z\").propertyIsEnumerable(0)})?function(t){return\"String\"==g(t)?v.call(t,\"\"):Object(t)}:Object,m=function(t){if(null==t)throw TypeError(\"Can't call method on \"+t);return t},b=function(t){return S(m(t))},L=function(t){return\"object\"==typeof t?null!==t:\"function\"==typeof t},w=function(t,n){if(!L(t))return t;var r,e;if(n&&\"function\"==typeof(r=t.toString)&&!L(e=r.call(t)))return e;if(\"function\"==typeof(r=t.valueOf)&&!L(e=r.call(t)))return e;if(!n&&\"function\"==typeof(r=t.toString)&&!L(e=r.call(t)))return e;throw TypeError(\"Can't convert object to primitive value\")},O={}.hasOwnProperty,E=function(t,n){return O.call(t,n)},T=f.document,M=L(T)&&L(T.createElement),j=!l&&!a(function(){return 7!=Object.defineProperty((t=\"div\",M?T.createElement(t):{}),\"a\",{get:function(){return 7}}).a;var t}),P=Object.getOwnPropertyDescriptor,x={f:l?P:function(t,n){if(t=b(t),n=w(n,!0),j)try{return P(t,n)}catch(t){}if(E(t,n))return h(!y.f.call(t,n),t[n])}},A=function(t){if(!L(t))throw TypeError(String(t)+\" is not an object\");return t},C=Object.defineProperty,_={f:l?C:function(t,n,r){if(A(t),n=w(n,!0),A(r),j)try{return C(t,n,r)}catch(t){}if(\"get\"in r||\"set\"in r)throw TypeError(\"Accessors not supported\");return\"value\"in r&&(t[n]=r.value),t}},k=l?function(t,n,r){return _.f(t,n,h(1,r))}:function(t,n,r){return t[n]=r,t},D=function(t,n){try{k(f,t,n)}catch(r){f[t]=n}return n},I=n(function(t){var n=f[\"__core-js_shared__\"]||D(\"__core-js_shared__\",{});(t.exports=function(t,r){return n[t]||(n[t]=void 0!==r?r:{})})(\"versions\",[]).push({version:\"3.1.3\",mode:\"global\",copyright:\"© 2019 Denis Pushkarev (zloirock.ru)\"})}),N=I(\"native-function-to-string\",Function.toString),G=f.WeakMap,V=\"function\"==typeof G&&/native code/.test(N.call(G)),F=0,R=Math.random(),H=function(t){return\"Symbol(\"+String(void 0===t?\"\":t)+\")_\"+(++F+R).toString(36)},z=I(\"keys\"),q={},W=f.WeakMap;if(V){var B=new W,K=B.get,Y=B.has,J=B.set;r=function(t,n){return J.call(B,t,n),n},e=function(t){return K.call(B,t)||{}},o=function(t){return Y.call(B,t)}}else{var Q=z[i=\"state\"]||(z[i]=H(i));q[Q]=!0,r=function(t,n){return k(t,Q,n),n},e=function(t){return E(t,Q)?t[Q]:{}},o=function(t){return E(t,Q)}}var U,X,Z,$={set:r,get:e,has:o,enforce:function(t){return o(t)?e(t):r(t,{})},getterFor:function(t){return function(n){var r;if(!L(n)||(r=e(n)).type!==t)throw TypeError(\"Incompatible receiver, \"+t+\" required\");return r}}},tt=n(function(t){var n=$.get,r=$.enforce,e=String(N).split(\"toString\");I(\"inspectSource\",function(t){return N.call(t)}),(t.exports=function(t,n,o,i){var u=!!i&&!!i.unsafe,c=!!i&&!!i.enumerable,a=!!i&&!!i.noTargetGet;\"function\"==typeof o&&(\"string\"!=typeof n||E(o,\"name\")||k(o,\"name\",n),r(o).source=e.join(\"string\"==typeof n?n:\"\")),t!==f?(u?!a&&t[n]&&(c=!0):delete t[n],c?t[n]=o:k(t,n,o)):c?t[n]=o:D(n,o)})(Function.prototype,\"toString\",function(){return\"function\"==typeof this&&n(this).source||N.call(this)})}),nt=f,rt=function(t){return\"function\"==typeof t?t:void 0},et=Math.ceil,ot=Math.floor,it=function(t){return isNaN(t=+t)?0:(t>0?ot:et)(t)},ut=Math.min,ct=function(t){return t>0?ut(it(t),9007199254740991):0},ft=Math.max,at=Math.min,lt=function(t){return function(n,r,e){var o,i=b(n),u=ct(i.length),c=function(t,n){var r=it(t);return r<0?ft(r+n,0):at(r,n)}(e,u);if(t&&r!=r){for(;u>c;)if((o=i[c++])!=o)return!0}else for(;u>c;c++)if((t||c in i)&&i[c]===r)return t||c||0;return!t&&-1}},st={includes:lt(!0),indexOf:lt(!1)}.indexOf,pt=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"].concat(\"length\",\"prototype\"),yt={f:Object.getOwnPropertyNames||function(t){return function(t,n){var r,e=b(t),o=0,i=[];for(r in e)!E(q,r)&&E(e,r)&&i.push(r);for(;n.length>o;)E(e,r=n[o++])&&(~st(i,r)||i.push(r));return i}(t,pt)}},ht={f:Object.getOwnPropertySymbols},dt=function(t,n){return arguments.length<2?rt(nt[t])||rt(f[t]):nt[t]&&nt[t][n]||f[t]&&f[t][n]}(\"Reflect\",\"ownKeys\")||function(t){var n=yt.f(A(t)),r=ht.f;return r?n.concat(r(t)):n},gt=function(t,n){for(var r=dt(n),e=_.f,o=x.f,i=0;i<r.length;i++){var u=r[i];E(t,u)||e(t,u,o(n,u))}},vt=/#|\\.prototype\\./,St=function(t,n){var r=bt[mt(t)];return r==wt||r!=Lt&&(\"function\"==typeof n?a(n):!!n)},mt=St.normalize=function(t){return String(t).replace(vt,\".\").toLowerCase()},bt=St.data={},Lt=St.NATIVE=\"N\",wt=St.POLYFILL=\"P\",Ot=St,Et=x.f,Tt=function(t,n,r){if(function(t){if(\"function\"!=typeof t)throw TypeError(String(t)+\" is not a function\")}(t),void 0===n)return t;switch(r){case 0:return function(){return t.call(n)};case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,o){return t.call(n,r,e,o)}}return function(){return t.apply(n,arguments)}},Mt=Array.isArray||function(t){return\"Array\"==g(t)},jt=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())}),Pt=f.Symbol,xt=I(\"wks\"),At=xt[U=\"species\"]||(xt[U]=jt&&Pt[U]||(jt?Pt:H)(\"Symbol.\"+U)),Ct=function(t,n){var r;return Mt(t)&&(\"function\"!=typeof(r=t.constructor)||r!==Array&&!Mt(r.prototype)?L(r)&&null===(r=r[At])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===n?0:n)},_t=[].push,kt=function(t){var n=1==t,r=2==t,e=3==t,o=4==t,i=6==t,u=5==t||i;return function(c,f,a,l){for(var s,p,y=Object(m(c)),h=S(y),d=Tt(f,a,3),g=ct(h.length),v=0,b=l||Ct,L=n?b(c,g):r?b(c,0):void 0;g>v;v++)if((u||v in h)&&(p=d(s=h[v],v,y),t))if(n)L[v]=p;else if(p)switch(t){case 3:return!0;case 5:return s;case 6:return v;case 2:_t.call(L,s)}else if(o)return!1;return i?-1:e||o?o:L}},Dt={forEach:kt(0),map:kt(1),filter:kt(2),some:kt(3),every:kt(4),find:kt(5),findIndex:kt(6)}.forEach,It=(Z=[][\"forEach\"])&&a(function(){Z.call(null,X||function(){throw 1},1)})?[].forEach:function(t){return Dt(this,t,arguments.length>1?arguments[1]:void 0)};!function(t,n){var r,e,o,i,u,c=t.target,a=t.global,l=t.stat;if(r=a?f:l?f[c]||D(c,{}):(f[c]||{}).prototype)for(e in n){if(i=n[e],o=t.noTargetGet?(u=Et(r,e))&&u.value:r[e],!Ot(a?e:c+(l?\".\":\"#\")+e,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;gt(i,o)}(t.sham||o&&o.sham)&&k(i,\"sham\",!0),tt(r,e,i,t)}}({target:\"Array\",proto:!0,forced:[].forEach!=It},{forEach:It});var Nt;for(var Gt in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Vt=f[Gt],Ft=Vt&&Vt.prototype;if(Ft&&Ft.forEach!==It)try{k(Ft,\"forEach\",It)}catch(t){Ft.forEach=It}}export default(Nt=function(t){t instanceof Array||(t=[t]),t.forEach(function(t){return t()})},{onInteractive:function(t){\"loading\"===document.readyState?window.addEventListener(\"DOMContentLoaded\",function(n){Nt(t)}):Nt(t)},onComplete:function(t){\"complete\"===document.readyState?Nt(t):window.addEventListener(\"load\",function(n){Nt(t)})}});\n//# sourceMappingURL=index.esm.js.map\n","import { onScreenness } from './onScreenness.js'\n\nconst index = onScreenness\n\nexport default index\n","\nimport { collectionManagement } from './collectionManagement.js'\nimport { coreFunctions } from './coreFunctions.js'\nimport documentStaging from '../node_modules/document-staging/dist/index.esm.js'\n\nlet onScreennessModule = (function () {\n\n\t/**\n\t * Loops all elements from the jobList\n\t * @private\n\t */\n\tlet changeHandler = function () {\n\t\tlet callbackMap = collectionManagement.buildCallbackMap()\n\t\tcollectionManagement.buildNodeList().forEach ( function ( element ) {\n\t\t\tlet boundingRect = element.getBoundingClientRect()\n\t\t\tlet props = coreFunctions.calculatePresence ( boundingRect )\n\t\t\tlet mutations = coreFunctions.attachIdentifiers ( element, props )\n\t\t\tlet callback = callbackMap.get ( element )\n\t\t\tif ( callback ) {\n\t\t\t\tcallback.call ( element, Object.assign(props, mutations) )\n\t\t\t}\n\t\t})\n\t}\n\n\twindow.addEventListener('resize', changeHandler, false)\n\twindow.addEventListener('scroll', changeHandler, true)\n\tlet DOMObserver = new MutationObserver( function ( mutationsList, observer ) {\n\t\tif ( mutationsList.length ) {\n\t\t\tchangeHandler()\n\t\t}\n\t})\n\tdocumentStaging.onInteractive([\n\t\tchangeHandler,\n\t\tfunction () {\n\t\t\tDOMObserver.observe( document.body, { childList: true, subtree: true } )\n\t\t},\n\t])\n\n\treturn {\n\t\tpublicAPI: {\n\t\t\tcollect: function ( rawQuery, callback ) {\n\t\t\t\tcollectionManagement.collect ( rawQuery, callback )\n\t\t\t\tdocumentStaging.onInteractive ([ changeHandler ])\n\t\t\t},\n\t\t\texclude: function ( rawQuery ) {\n\t\t\t\tdocumentStaging.onInteractive ([\n\t\t\t\t\tfunction () { coreFunctions.detachIdentifiers ( collectionManagement.exclude ( rawQuery ) ) },\n\t\t\t\t\tchangeHandler,\n\t\t\t\t])\n\t\t\t},\n\t\t\tremove: function ( rawQuery ) {\n\t\t\t\tdocumentStaging.onInteractive ([\n\t\t\t\t\tfunction () { coreFunctions.detachIdentifiers ( collectionManagement.remove ( rawQuery ) ) },\n\t\t\t\t\tchangeHandler,\n\t\t\t\t])\n\t\t\t},\n\t\t\treset: function () {\n\t\t\t\tdocumentStaging.onInteractive ([\n\t\t\t\t\tfunction () { coreFunctions.detachIdentifiers ( collectionManagement.reset () ) },\n\t\t\t\t])\n\t\t\t},\n\t\t},\n\t\ttestSuite: {\n\t\t\tgetVariables: collectionManagement.getVariables,\n\t\t\ttrigger: changeHandler,\n\t\t\tliveList: collectionManagement.buildNodeList,\n\t\t\tkickList: collectionManagement.buildCallbackMap,\n\t\t\tcalculate: coreFunctions.calculatePresence,\n\t\t\ttreat: coreFunctions.attachIdentifiers,\n\t\t}\n\t}\n})()\n\nlet onScreenness = onScreennessModule.publicAPI\nlet onScreenTest = onScreennessModule.testSuite\n\nexport { onScreenness, onScreenTest }\n"],"names":["c","e","t","Number","Math","round","g","push","apply","document","querySelectorAll","y","split","map","trim","replace","filter","length","collectionManagement","baseQuery","queryList","blackList","callbackObj","addQueries","currentList","newQueries","forEach","newQuery","includes","collect","rawQuery","callback","queries","arrayFromCommaSeparatedList","query","exclude","remove","queryIntersection","o","arrayIntersection","splice","indexOf","reset","getVariables","concat","Object","assign","buildNodeList","fullList","elementList","arrayFromQuery","join","ignoreList","elm","buildCallbackMap","callbackMap","Map","entries","set","coreFunctions","propsMap","WeakMap","detachIdentifiers","removeList","element","classList","dataset","calculatePresence","boundingRect","time","Date","now","overhang","left","right","documentElement","clientWidth","top","bottom","clientHeight","absence","min","max","width","height","horizontalPresence","verticalPresence","horizontalOverlap","verticalOverlap","widthRatio","heightRatio","horizontalDecentering","verticalDecentering","absoluteDecentering","hypot","areaRatio","surfaceDecentering","surfaceOverlap","surfacePresence","attachIdentifiers","props","mutations","noteAndUpdate","record","addClass","add","removeClass","considerUpdate","className","applicableCondition","hasClass","contains","presence","roundAtDecimals","String","overlapping","horizontalOverhang","verticalOverhang","lastProps","get","arguments","isEqualSigns","nearing","abs","timelapse","fraction","scrollspeed","globalThis","window","global","self","n","exports","r","i","u","f","Function","a","l","defineProperty","s","propertyIsEnumerable","p","getOwnPropertyDescriptor","call","1","this","enumerable","h","configurable","writable","value","d","toString","slice","v","S","m","TypeError","b","L","w","valueOf","O","hasOwnProperty","E","T","M","createElement","j","P","x","A","C","_","k","D","I","version","mode","copyright","N","G","V","test","F","R","random","H","z","q","W","B","K","Y","has","J","Q","U","Z","Nt","$","enforce","getterFor","type","tt","unsafe","noTargetGet","source","prototype","nt","rt","et","ceil","ot","floor","it","isNaN","ut","ct","ft","at","lt","st","pt","yt","getOwnPropertyNames","ht","getOwnPropertySymbols","dt","gt","vt","St","bt","mt","wt","Lt","normalize","toLowerCase","data","NATIVE","POLYFILL","Ot","Et","Mt","Array","isArray","jt","Symbol","Pt","xt","At","Ct","constructor","_t","kt","Tt","Dt","It","Gt","target","stat","forced","sham","proto","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","Vt","Ft","onInteractive","readyState","addEventListener","onComplete","index","changeHandler","getBoundingClientRect","DOMObserver","MutationObserver","mutationsList","observer","documentStaging","observe","body","childList","subtree","publicAPI","testSuite","trigger","liveList","kickList","calculate","treat"],"mappings":"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"}